syntax = "proto3";

package com.stripe.rubytyper;
import "proto/Symbol.proto";

// TODO: Add locations everywhere

message TypedVariable {
    string variable = 1;
    // TODO: types
    string tmp_type = 2;
}

message Binding {
    TypedVariable bind = 1;
    // TODO: instructions
    string tmp_instruction = 2;
}

message Block {
    int32 id = 1;
    repeated Binding bindings = 2;
    // TODO: exit
}

message CFG {
    Symbol symbol = 1;
    repeated Block blocks = 2;
    // TODO: where exactly are we? (class::method)
    // TODO: argument/return types
}
